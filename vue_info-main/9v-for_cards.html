<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9. å•†å“æ¸…å–® v-for:åˆ—è¡¨æ¸²æŸ“</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <h6>v-for:åˆ—è¡¨æ¸²æŸ“</h6>
    <p>ç‰©ä»¶å¾ˆå½ˆæ€§ä¸”å¯ä»¥è¨˜éŒ„å¾ˆå¤šè³‡æ–™ä½†æ˜¯ä½ç½®ä¸å›ºå®šï¼Œè€Œé™£åˆ—å¯ä»¥è¢«è¨˜ä½ä½ç½®</p>
    <p>ç‚ºäº†é”åˆ°å…©å€‹å„ªé»å¯ä»¥æŠŠobjectæ”¾åˆ°arrayè£é¢</p>
    <hr>
    <div id="view">

        <p>cardsArr is</p>
        <ul>
            <!-- key: è£œä¸Šå”¯ä¸€å€¼ï¼Œåƒæ˜¯idæˆ–æ˜¯indexï¼Œå¯ç¯€çœæ•ˆèƒ½ -->
            <li v-for="(item, index) in cardsArr" :key="index">
                é™£åˆ—index : {{index}}
                é™£åˆ—Value : {{item}}
            </li>
        </ul>
        <div class="cardContainer">
            <div 
                v-for="(item, index) in cardsArr" 
                :key="index"
                :style="{
                    opacity: item.hp*0.1,
                }"
            >
                <div class="emoji">{{item.name}}</div>
                <!-- é€™é‚Šå¯«å€‹è¡€é‡å€¼ -->
                <div class="hpBox">
                    <div :style="{
                        width: `${item.hp*10}%`,
                    }">HP</div>
                </div>
                <div>è·ç¨±ï¼š{{item.job}}</div>
            </div>
        </div>

        <hr>
        <p>cardsObj is</p>
        <ul>
            <!-- key: è£œä¸Šå”¯ä¸€å€¼ï¼Œåƒæ˜¯idæˆ–æ˜¯indexï¼Œå¯ç¯€çœæ•ˆèƒ½ -->
            <!-- ç¬¬ä¸‰å€‹åƒæ•¸åƒ…Objectæ‰æœƒæœ‰ï¼Œé™£åˆ—ç¬¬ä¸‰å€‹åƒæ•¸ä¸å­˜åœ¨ -->
            <li v-for="(item, key, index) in cardsObj" :key="key">
                ç‰©ä»¶é †åº : {{index}}
                ç‰©ä»¶Key : {{key}}
                ç‰©ä»¶Value : {{item}}
            </li>
        </ul>
        <!-- v-bind:styleè£¡é¢ä¹Ÿæ˜¯æ”¾å…¥objectï¼Œéœ€è¦æŠŠcssæ¨£å¼æ”¾é€²keyçš„ä½ç½® -->
        <!-- key: å¦‚æœæ²’æœ‰ç”¨å¼•è™Ÿåˆ†é–‹å‰‡éœ€è¦å¯«æˆé§å³°æ ¼å¼ï¼Œé‡åˆ°dashçš„ç¬¬ä¸€å€‹å­—æ¯æ”¹æˆå¤§å¯« -->
        <!-- value: å¦‚æœéœ€è¦ç‰¹åˆ¥è™•ç†è®Šæ•¸å‰‡å¯ä»¥åˆ©ç”¨æ¨¡æ¿èªæ³•`${è®Šæ•¸}px` -->
        <div class="cardContainer">
            <div 
                v-for="(item, key, index) in cardsObj" 
                :key="key"
                :style="{
                    'background-color': item.color,
                    borderRadius: (index+1)*20+'px'
                }"
            >
                <!--  (index+1)*20+'px' ç­‰åŒæ–¼ `${(index+1)*20}px`  -> çœ‹å“ªç¨®å¯«æ³•æ¯”è¼ƒé †æ‰‹-->
                <div class="emoji">{{key}}</div>
                <p>â¤ï¸ï¼š{{item.food}}</p>
            </div>
        </div>
    </div>
</body>
<script>
    const VM = {
        data(){
            return {
                //ç•¶keyæ˜¯å¥‡æ€ªçš„å­—æˆ–æ˜¯æœ‰æ¨™é»ç¬¦è™Ÿé€šå¸¸è¦ç”¨å¼•è™ŸåŒ…èµ·ä¾†ä½œç‚ºå­—ä¸²ï¼Œæœ‰äº›å·¥ç¨‹å¸«æœƒç¿’æ…£çµ±ä¸€éƒ½åŠ å¼•è™Ÿ
                //ä¹Ÿå¯ä»¥ç”¨objä¾†å¯«listï¼Œä½†é€™å€‹é †åºç„¡æ³•è¢«æŒ‡å®š
                cardsObj: {
                    'ğŸ¢':{
                        food: "æ¼¢å ¡",
                        color: "green"
                    },
                    'ğŸ·':{
                        food: "çˆ­é®®",
                        color: "pink"
                    },
                    'ğŸŸ':{
                        food: "è±¬æ’",
                        color: "blue"
                    }
                },
                //é€šå¸¸å’Œå¾Œç«¯å·¥ç¨‹å¸«æˆ–ç¢ºèªAPIè¦æ ¼å¾Œï¼Œä¾†åˆ¤æ–·è¦ç”¨å“ªä¸€å€‹
                cardsArr: [
                    {
                        name: "ğŸ®",
                        job: "è²“å¥´å·¥ç¨‹å¸«",
                        hp: 2.5
                    },
                    {
                        name: "ğŸ­",
                        job: "å»šå¸«",
                        hp: 5
                    },
                    {
                        name:  "ğŸ¯",
                        job: "ç®¡ç†å“¡",
                        hp: 9
                    }
                ]
            }
        },
        methods: {
            addItem(){
                //set key & value
                this.cards[this.name] = this.type
                //clean input & select
                this.name = ""
                this.type = ""

            },
            removeItem(key){
                //åˆªé™¤æŒ‡å®šç‰©ä»¶çš„æ–¹æ³•
                delete this.cards[key]
            }
        }
    }
    Vue.createApp(VM).mount('#view')
</script>
</html>
<style>
    li{
        list-style-type: none;
    }
    .cardContainer > div{
        display: inline-block;
        width: 8rem;
        height: 10rem;
        margin: .5rem;
        background-color: #ddd;
        text-align: center;
    }
    .emoji{
        font-size: 5rem;
    }
    .hpBox{
        width: 100%;
        height: 1rem;
        background-color: #fff;
    }
    .hpBox > div{
        height: 100%;
        color: #fff;
        font-size: 8px;
        background-color: rgb(168, 90, 90);
    }
</style>