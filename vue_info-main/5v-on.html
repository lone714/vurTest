<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5v-on</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
    <h6>v-on:ç›£è½eventäº‹ä»¶</h6>
    <p>v-on:[äº‹ä»¶åç¨±]="é‹ç®—å¼"</p>
    <p>é€šå¸¸ç¸®å¯«æˆ@äº‹ä»¶åç¨±="é‹ç®—å¼"</p>
    <p>å¤§éƒ¨åˆ†çš„æƒ…æ³æœƒæŠŠeventäº‹ä»¶æ”¾åœ¨methodsè£¡ï¼Œeventäº‹ä»¶åŒ…å«click, change, keydown, keyup...</p>
    <p>å’Œcomputedä½¿ç”¨æƒ…å¢ƒæœ€å¤§çš„ä¸åŒåœ¨æ–¼ï¼Œè§¸ç™¼eventäº‹ä»¶é€šå¸¸ä½¿ç”¨methodsï¼Œè€Œcomputedè² è²¬è‡ªå‹•è¨ˆç®—</p>

    <div id="view">
        <div>
            <label for="">ä½ çš„åå­—:</label>
            <input type="text" v-model="nameInput">
            <!-- é»æ“ŠæŒ‰éˆ•å¾Œæ‰å»æ›´æ”¹é¡¯ç¤ºåç¨± -->
            <button @click="chaneName">ç¢ºèªæ”¹å</button>
        </div>
        <div>
            <!-- èº«é«˜:{{h}}cm -->
            <label for="">èº«é«˜:</label>
            <input type="text" v-model="h">cm
        </div>
        <div>
            <!-- é«”é‡:{{w}}kg -->
            <label for="">é«”é‡:</label>
            <input type="text" v-model="w">kg
        </div>
        <div>
            <p>æ¯ç•¶ wå’Œm çš„å€¼æœ‰è®ŠåŒ–æ™‚ï¼Œä¾¿é‡æ–°è¨ˆç®— BMI</p>
            {{displayName}}çš„BMI: {{bmi}}
        </div>
    </div>
</body>
<script>
    const VM = {
        data(){
            return {
                nameInput: "ğŸ¢",
                displayName: "ğŸ¢",
                w: 50,
                h: 150
            }
        },
        methods: {
            chaneName(){
                this.displayName = this.nameInput
            }
        },
        computed: {
            // æ¯ç•¶ h çš„å€¼æœ‰è®ŠåŒ–æ™‚ï¼Œä¾¿é‡æ–°è¨ˆç®— m 
            // m: function() {
            m(){
                //å°‡å…¬åˆ†è½‰æˆå…¬å°ºï¼Œä¸¦å››æ¨äº”å…¥
                // constï¼šå¸¸æ•¸(const) â†’ ä¸èƒ½è¢«é‡è¤‡è³¦å€¼(reassigned)
                // thisï¼šVueå¯¦é«”
                const Val = (this.h/100).toFixed(2)
                //é€éparseFloatå°‡å­—ä¸²è½‰ä¹˜æµ®é»æ•¸(æœ‰å°æ•¸é»çš„æ•¸å€¼)
                return parseFloat(Val)
            },

            // æ¯ç•¶ wå’Œm çš„å€¼æœ‰è®ŠåŒ–æ™‚ï¼Œä¾¿é‡æ–°è¨ˆç®— bmi
            bmi: function() {
            // bmi(){
                // BMIå…¬å¼ ï¼ kg/(m*m)
                // letï¼šè®Šæ•¸(variable) â†’ å¯ä»¥è¢«é‡è¤‡è³¦å€¼
                // thisï¼šVueå¯¦é«”
                let BMI = this.w/(this.m*this.m)
                if(BMI){
                    return parseFloat(BMI.toFixed(2))
                }else{
                    return 0
                }
                //å¯ä»¥ç°¡å¯«æˆä¸‹åˆ—é€™æ¨£
                // Boolen? trueçš„æ™‚å€™è¦å‘ˆç¾çš„æ•¸å€¼: falseçš„æ™‚å€™è¦å‘ˆç¾çš„æ•¸å€¼
                // return BMI? parseFloat(BMI.toFixed(2)): 0
            }
        }
    }
    //æ›è¼‰åœ¨<div id="view"/>
    Vue.createApp(VM).mount('#view')
</script>
</html>